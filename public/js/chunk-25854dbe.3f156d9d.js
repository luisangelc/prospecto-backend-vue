(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25854dbe"],{a434:function(e,t,n){"use strict";var o=n("23e7"),i=n("23cb"),s=n("a691"),r=n("50c4"),c=n("7b0b"),l=n("65f0"),a=n("8418"),d=n("1dde"),u=n("ae40"),f=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,_="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!m},{splice:function(e,t){var n,o,d,u,f,m,b=c(this),g=r(b.length),C=i(e,g),w=arguments.length;if(0===w?n=o=0:1===w?(n=0,o=g-C):(n=w-2,o=p(h(s(t),0),g-C)),g+n-o>v)throw TypeError(_);for(d=l(b,o),u=0;u<o;u++)f=C+u,f in b&&a(d,u,b[f]);if(d.length=o,n<o){for(u=C;u<g-o;u++)f=u+o,m=u+n,f in b?b[m]=b[f]:delete b[m];for(u=g;u>g-o+n;u--)delete b[u-1]}else if(n>o)for(u=g-o;u>C;u--)f=u+o-1,m=u+n-1,f in b?b[m]=b[f]:delete b[m];for(u=0;u<n;u++)b[u+C]=arguments[u+2];return b.length=g-o+n,d}})},bb51:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(e.mensaje.texto)+" ")]),n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.clientes,(function(t,o){return n("tr",{key:o},[n("td",[n("button",{staticClass:"btn btn-link text-dark",on:{click:function(n){return e.showInformacionCliente(t._id)}}},[e._v(" "+e._s(t.nombre)+" ")])]),n("td",[e._v(e._s(t.primerApellido))]),n("td",[e._v(e._s(t.segundoApellido))]),n("td",[e._v(e._s(t.estatus))]),n("td",[n("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(n){return e.confirmDelete(t._id)}}},[e._v("Eliminar")])],1)])})),0)]),n("div",[n("b-modal",{attrs:{id:"bv-modal-clienteinformacion","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Información del cliente ")]},proxy:!0}])},[n("div",{staticClass:"d-block text-center"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-5 text-right font-weight-normal"},[n("p",[e._v("Nombre")]),n("p",[e._v("Primer Apellido")]),n("p",[e._v("Segundo Apellido")]),n("p",[e._v("Calle")]),n("p",[e._v("Número")]),n("p",[e._v("Colonia")]),n("p",[e._v("Código Postal")]),n("p",[e._v("Teléfono")]),n("p",[e._v("RFC")])]),n("div",{staticClass:"col-md-7 text-left font-weight-light"},[n("p",[e._v(e._s(""===e.cliente.nombre?"-":e.cliente.nombre))]),n("p",[e._v(e._s(""===e.cliente.primerApellido?"-":e.cliente.primerApellido))]),n("p",[e._v(e._s(""===e.cliente.segundoApellido?"-":e.cliente.segundoApellido))]),n("p",[e._v(e._s(""===e.cliente.calle?"-":e.cliente.calle))]),n("p",[e._v(e._s(""===e.cliente.numero?"-":e.cliente.numero))]),n("p",[e._v(e._s(""===e.cliente.colonia?"-":e.cliente.colonia))]),n("p",[e._v(e._s(""===e.cliente.codigoPostal?"-":e.cliente.codigoPostal))]),n("p",[e._v(e._s(""===e.cliente.telefono?"-":e.cliente.telefono))]),n("p",[e._v(e._s(""===e.cliente.rfc?"-":e.cliente.rfc))])])])]),n("hr"),n("button",{staticClass:"float-right btn btn-primary",on:{click:function(t){return e.$bvModal.hide("bv-modal-clienteinformacion")}}},[e._v("Cerrar")])])],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("Nombre(s)")]),n("th",{attrs:{scope:"col"}},[e._v("Primer Apellido")]),n("th",{attrs:{scope:"col"}},[e._v("Segundo Apellido")]),n("th",{attrs:{scope:"col"}},[e._v("Estatus")]),n("th",{attrs:{scope:"col"}},[e._v("Acción")])])])}],s=(n("c740"),n("a434"),{data:function(){return{clientes:[],cliente:{},dismissSecs:5,dismissCountDown:0,mensaje:{color:"",texto:""},modalShow:!1}},created:function(){this.listarClientes()},methods:{listarClientes:function(){var e=this;this.axios.get("/clientes").then((function(t){e.clientes=t.data})).catch((function(t){var n="Error interno de sistema";err.response.data.mensaje&&(n=err.response.data.mensaje),e.fnShowAlert({color:"danger",texto:n})}))},eliminarCliente:function(e){var t=this;this.axios.delete("/cliente/".concat(e)).then((function(e){var n=t.clientes.findIndex((function(t){return t._id===e.data._id}));t.clientes.splice(n,1),t.fnShowAlert({color:"success",texto:"Cliente eliminado correctamente"})})).catch((function(e){var n="Ocurrió un error interno de servidor";e.response.data.error.errors.nombre.message&&(t.mensaje.texto=e.response.data.error.errors.nombre.message),t.fnShowAlert({color:"danger",texto:n})}))},confirmDelete:function(e){var t=this;this.$confirm({message:"Esta seguro que desea eliminar cliente prospecto?",button:{no:"Cancelar",yes:"Aceptar"},callback:function(n){n&&t.eliminarCliente(e)}})},showInformacionCliente:function(e){var t=this;this.axios.get("/cliente/".concat(e)).then((function(e){t.cliente=e.data,t.$bvModal.show("bv-modal-clienteinformacion")})).catch((function(e){t.fnShowAlert({color:"danger",texto:e.response.data.mensaje})}))},countDownChanged:function(e){this.dismissCountDown=e},fnShowAlert:function(e){this.dismissCountDown=this.dismissSecs,this.mensaje.color=e.color,this.mensaje.texto=e.texto}}}),r=s,c=n("2877"),l=Object(c["a"])(r,o,i,!1,null,null,null);t["default"]=l.exports},c740:function(e,t,n){"use strict";var o=n("23e7"),i=n("b727").findIndex,s=n("44d2"),r=n("ae40"),c="findIndex",l=!0,a=r(c);c in[]&&Array(1)[c]((function(){l=!1})),o({target:"Array",proto:!0,forced:l||!a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)}}]);
//# sourceMappingURL=chunk-25854dbe.3f156d9d.js.map